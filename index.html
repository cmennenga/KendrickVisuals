<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js"></script>
<body>
    <canvas id="myCanvas"></canvas>

    <script>
    /* global nn */
    nn.get('body').css({ backgroundColor: "black" })

    const canvas  = document.getElementById("myCanvas")
    const ctx = canvas.getContext("2d")

    // resizing screen
    function resizeScreen() {
        canvas.width = window.innerWidth
        canvas.height = window.innerHeight
    }
    window.addEventListener('resize', resizeScreen)
    resizeScreen()

    // creating class for each dot
    class Dot {
        constructor(startX, startY, endX, endY, speed) {
            this.x = startX
            this.y = startY
            this.endX = endX
            this.endY = endY
            this.speed = speed
        }

        // function called every frame to move dot
        update() {
            let dx = this.endX - this.x
            let dy = this.endY - this.y
            let dist = Math.sqrt(dx*dx + dy*dy)

            if (dist > 1) {
                this.x += this.speed * (dx/dist)
                this.y += this.speed * (dy/dist)
            }
        }

        // actually creating the dot
        create() {
            ctx.beginPath()
            ctx.arc(this.x, this.y, 4, 0, 2* Math.PI)
            ctx.fillStyle = 'white'
            ctx.fill()
            ctx.closePath()
        }
    }

    // creating all my dots
    let dots = []

    for (let i = 0; i<10; i++) {
        let startX = Math.random() * window.innerWidth
        let startY = Math.random() * window.innerHeight

        let endX = Math.random() * window.innerWidth
        let endY = Math.random() * window.innerHeight 

        let speed = 1 + Math.random() * 2

        dots.push(new Dot(startX, startY, endX, endY, speed))
    }

    // moving the dots 
    function move() {
        ctx.clearRect(0, 0, window.innerWidth, window.innerHeight)

        for (let d of dots) {
            d.update()
            d.create()
        }
        requestAnimationFrame(move)
    }
    move()
    </script>
</body>